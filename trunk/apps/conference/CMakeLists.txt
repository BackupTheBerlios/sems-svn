set (conference_SRCS
Conference.cpp
)

ADD_LIBRARY(conference SHARED ${conference_SRCS})
SET_TARGET_PROPERTIES(conference PROPERTIES OUTPUT_NAME "conference")
SET_TARGET_PROPERTIES(conference PROPERTIES PREFIX "")
TARGET_LINK_LIBRARIES(conference ${CMAKE_DL_LIBS} pthread m)

IF(FLITE_FOUND AND ZRTP_FOUND)
	IF(CMAKE_COMPILER_IS_GNUCC)
		SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DWITH_SAS_TTS -I${FLITE_INCLUDE_DIR}/flite")
	ENDIF(CMAKE_COMPILER_IS_GNUCC)

	IF(CMAKE_COMPILER_IS_GNUCXX)
		SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DWITH_SAS_TTS -I${FLITE_INCLUDE_DIR}/flite")
	ENDIF(CMAKE_COMPILER_IS_GNUCXX)
	TARGET_LINK_LIBRARIES(conference ${CMAKE_DL_LIBS} flite_cmu_us_kal flite_usenglish flite_cmulex flite)
ENDIF(FLITE_FOUND AND ZRTP_FOUND)

IF(MYSQLPP_FOUND)
	IF(CMAKE_COMPILER_IS_GNUCC)
		SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -DUSE_MYSQL -I${MYSQLPP_INCLUDE_DIR}/mysql++ -I/usr/include/mysql")
	ENDIF(CMAKE_COMPILER_IS_GNUCC)

	IF(CMAKE_COMPILER_IS_GNUCXX)
		SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DUSE_MYSQL -I${MYSQLPP_INCLUDE_DIR}/mysql++ -I/usr/include/mysql")
	ENDIF(CMAKE_COMPILER_IS_GNUCXX)
	TARGET_LINK_LIBRARIES(conference ${CMAKE_DL_LIBS} mysqlpp)
ENDIF(MYSQLPP_FOUND)
